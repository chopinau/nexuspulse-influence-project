module.exports=[39646,a=>{"use strict";var b=a.i(87924),c=a.i(27496),d=a.i(53572),e=a.i(7291);function f({slug:a,initialHeat:f,initialTrend:g}){let h=(0,d.useTranslations)("entity"),{data:i,isLoading:j}=(0,c.default)(["entity-stats",a],async()=>{try{let{data:b,error:c}=await e.supabase.from("config").select("heatindex, trend").eq("slug",a).single();if(c)throw c;return b}catch(a){return console.warn("[LiveEntityStats] Failed to fetch stats, using initial values:",a),null}},{refreshInterval:6e4,revalidateOnFocus:!0}),k=i?.heatindex?parseInt(i.heatindex):f,l=i?.trend?parseFloat(i.trend):g,m=l>=0;return(0,b.jsxs)("div",{className:"flex gap-8 text-right bg-cyber-panel backdrop-blur-md p-6 rounded-2xl border border-white/5 flex-shrink-0 relative overflow-hidden",children:[i&&(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex items-center gap-1",children:[(0,b.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-cyber-green opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-cyber-green"})]}),(0,b.jsx)("span",{className:"text-[10px] text-cyber-green font-mono uppercase",children:"Live"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-wider mb-1",children:h("heat")}),(0,b.jsx)("div",{className:"text-5xl font-mono text-cyber-neon drop-shadow-[0_0_15px_rgba(0,243,255,0.6)]",children:k})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-wider mb-1",children:h("trend")}),(0,b.jsxs)("div",{className:`text-2xl font-bold mt-3 ${m?"text-cyber-green":"text-red-500"}`,children:[m?"â–²":"â–¼"," ",Math.abs(l),"%"]})]})]})}a.s(["default",()=>f])},30135,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27496),e=a.i(53572),f=a.i(39061),g=a.i(7291),h=a.i(17177);let i=async(a,b)=>{if(!a||"#"===a||!a.startsWith("http"))return[];let c=`&_t=${Date.now()}`;for(let d of[`https://api.allorigins.win/raw?url=${encodeURIComponent(a)}${c}`,`https://corsproxy.io/?${encodeURIComponent(a)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(a)}`])try{let a=await fetch(d);if(!a.ok)continue;let c=await a.text();if(!c.includes("<rss")&&!c.includes("<feed")&&!c.includes("<item")&&!c.includes("<entry"))continue;let e=new DOMParser().parseFromString(c,"text/xml"),f=Array.from(e.querySelectorAll("item, entry")).slice(0,10);if(0===f.length)continue;return f.map(a=>{let c=a.querySelector("title")?.textContent||"No Title",d=a.querySelector("link"),e=d?.textContent||d?.getAttribute("href")||"#",f=a.querySelector("pubDate, published, updated")?.textContent,g=(a=>{if(!a)return new Date;let b=new Date(a);if(!isNaN(b.getTime()))return b;let c=Date.parse(a);return isNaN(c)?new Date:new Date(c)})(f).toISOString();return{id:`rss-${b}-${Math.random().toString(36).substr(2,9)}`,entityId:"",entity_slug:"",title:c,url:e,timestamp:g,pub_date:g,summary:(a.querySelector("description, summary, content")?.textContent||"").replace(/<[^>]*>?/gm,"").substring(0,120)+"...",source:b,type:"rss",sentiment:"neutral"}})}catch{continue}return[]};function j({slug:a,name:j,initialItems:k=[],showSentiment:l=!1,filterSlug:m}){let n=(0,e.useTranslations)("entity");(0,e.useTranslations)("common");let[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)("offline"),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),{data:y,isLoading:z}=(0,d.default)(["entity-config",a],async()=>{try{let{data:b,error:c}=await g.supabase.from("config").select("*").eq("slug",a).single();if(c)throw c;return console.log("[LiveNewsFeed] Entity config fetched:",b),b}catch(b){return console.warn("[LiveNewsFeed] Supabase config error, falling back to mock data:",b),h.ENTITIES.find(b=>b.slug===a)||null}},{refreshInterval:12e4,revalidateOnFocus:!0}),A=async()=>{if(y){v(!0),x(null);try{console.log(`[LiveNewsFeed] Fetching RSS for ${a}`);let b=[y.rss,y.main_rss,y.google_news_rss,y.googlenewsrss,y.mainrss],c=[];for(let a of b)a&&c.push(i(a,y.name||j));if(c.length>0){let b=(await Promise.all(c)).flat().filter((a,b,c)=>b===c.findIndex(b=>b.url===a.url&&b.title===a.title));console.log(`[LiveNewsFeed] Fetched ${b.length} unique RSS items for ${a}`),t(b),b.length>0&&r("live")}else console.log(`[LiveNewsFeed] No RSS URLs found for ${a}`)}catch(b){console.error(`[LiveNewsFeed] Error fetching RSS for ${a}:`,b),x("Failed to fetch RSS feeds")}finally{v(!1)}}};(0,c.useEffect)(()=>{A();let a=setInterval(()=>{A()},3e5);return()=>clearInterval(a)},[y,a,j]);let{data:B,error:C,isLoading:D,mutate:E}=(0,d.default)(["dynamics",a],async()=>{try{let{data:b,error:c}=await g.supabase.from("dynamics").select("*").eq("entity_slug",a).order("pub_date",{ascending:!1});if(c)throw c;return console.log("[LiveNewsFeed] Dynamics data fetched:",b?.length,"items"),b}catch(c){console.warn("[LiveNewsFeed] Supabase dynamics error, falling back to mock data:",c);let b=h.ENTITIES.find(b=>b.slug===a);if(b)return h.DYNAMICS.filter(a=>a.entityId===b.id).map(b=>({id:b.id,entity_slug:a,title:b.title,summary:b.summary,source:b.source,pub_date:b.timestamp,sentiment:b.sentiment,url:b.url,created_at:b.timestamp}));return[]}},{refreshInterval:6e4,revalidateOnFocus:!0});(0,c.useEffect)(()=>{let a=[...B||[]];s.length>0&&a.push(...s),a.length>0?(p(a.sort((a,b)=>{let c=a.pub_date||a.timestamp||a.created_at||a.pubDate,d=b.pub_date||b.timestamp||b.created_at||b.pubDate,e=c?new Date(c).getTime():0;return(d?new Date(d).getTime():0)-e}).slice(0,20)),r("live")):k.length>0?(p(k),r("static")):(p([]),r("offline"))},[B,s,k]),(0,c.useEffect)(()=>{let b=g.supabase.channel(`dynamics_realtime_${a}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"dynamics",filter:`entity_slug=eq.${a}`},a=>{console.log("[LiveNewsFeed] Realtime update received:",a.new),p(b=>[a.new,...b].slice(0,20))}).subscribe();return()=>{g.supabase.removeChannel(b)}},[a]);let[F,G]=(0,c.useState)(!1),H=async()=>{G(!0),await Promise.all([E(),A()]),G(!1)},I=(a,b)=>{if("manual"===b)return"border-cyber-neon text-cyber-neon bg-cyber-neon/10 shadow-[0_0_8px_rgba(0,243,255,0.3)]";let c=a?.toLowerCase()||"neutral";return c.includes("positive")||c.includes("bull")?"border-cyber-green/50 text-cyber-green":c.includes("negative")||c.includes("bear")?"border-red-500/50 text-red-400":"border-gray-500/30 text-gray-400"};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-200",children:n("news")}),"live"===q&&(0,b.jsxs)("span",{className:"flex items-center gap-1.5 bg-cyber-green/10 px-2 py-0.5 rounded text-[10px] text-cyber-green border border-cyber-green/20",children:[(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-cyber-green animate-pulse"}),"LIVE"]})]}),(0,b.jsx)("button",{onClick:H,disabled:D||F,className:"text-gray-400 hover:text-cyber-neon transition-colors p-1 rounded-full hover:bg-white/5 disabled:opacity-50",title:"Refresh Signals",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-4 h-4 ${D||F?"animate-spin":""}`,children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})]}),D&&!B&&(0,b.jsx)("div",{className:"space-y-3",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"h-32 rounded-2xl bg-white/5 animate-pulse border border-white/5"},a))}),(0,b.jsx)("div",{className:"space-y-4",children:o.length>0?o.map((a,c)=>{let d="";try{let b=a.pub_date||a.timestamp||a.created_at||a.pubDate;d=b?new Date(b).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just Now"}catch(a){d="Just Now"}return(0,b.jsxs)(f.default,{className:`!p-4 group ${"manual"===a.type?"border-cyber-neon/30 bg-cyber-neon/5":""}`,delay:.05*c,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:d}),l?(0,b.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded border uppercase font-bold tracking-wider ${I(a.sentiment,a.type)}`,children:a.sentiment||"NEUTRAL"}):(0,b.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded border uppercase font-bold tracking-wider ${I(a.sentiment,a.type)}`,children:"manual"===a.type?"Analyst Brief":"Signal"})]}),(0,b.jsx)("h4",{className:"text-sm font-bold text-white mb-2 leading-snug",children:(0,b.jsx)("a",{href:a.link||a.url||"#",target:"_blank",rel:"noopener noreferrer",className:`transition-colors ${a.link&&"#"!==a.link?"hover:text-cyber-neon":"cursor-default pointer-events-none"}`,children:a.title})}),(0,b.jsx)("p",{className:"text-xs text-gray-400 line-clamp-3 leading-relaxed",children:a.summary||a.contentSnippet}),a.link&&"#"!==a.link&&(0,b.jsxs)("div",{className:"mt-3 flex justify-between items-center text-[10px] text-gray-600 border-t border-white/5 pt-2",children:[(0,b.jsx)("span",{className:"uppercase tracking-wider",children:a.source||"RSS"}),(0,b.jsxs)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-cyber-neon/70 hover:text-cyber-neon transition-colors",children:["READ FULL ",(0,b.jsx)("span",{className:"text-xs",children:"â†—"})]})]})]},a.id||c)}):!D&&(0,b.jsxs)("div",{className:"p-8 text-center text-gray-500 border border-white/5 rounded-2xl",children:[(0,b.jsxs)("p",{children:["No active signals detected for ",j,"."]}),(0,b.jsx)("p",{className:"text-xs mt-2 opacity-50",children:"System awaiting new data stream."})]})}),C&&(0,b.jsx)("div",{className:"text-xs text-red-400 text-center bg-red-500/10 p-2 rounded border border-red-500/20",children:"Connection Interrupted: Unable to sync with data feeds."})]})}a.s(["default",()=>j])},86625,a=>{"use strict";var b=a.i(87924),c=a.i(27496),d=a.i(97045),e=a.i(53572),f=a.i(27045);f.Chart.register(f.CategoryScale,f.LinearScale,f.PointElement,f.LineElement,f.Tooltip,f.Filler);let g=a=>fetch(a).then(a=>a.json());function h({symbol:a}){let f=(0,e.useTranslations)("stock"),{data:h,error:i,isLoading:j}=(0,c.default)(`/api/stock/${a}`,g,{refreshInterval:6e5,revalidateOnFocus:!1});if(i)return(0,b.jsx)("div",{className:"p-4 rounded-2xl bg-cyber-panel border border-red-500/30 text-red-400 text-xs",children:f("unavailable")});if(j||!h?.chart?.result?.[0])return(0,b.jsxs)("div",{className:"p-6 rounded-2xl bg-cyber-panel border border-white/10 animate-pulse h-40 w-full flex flex-col justify-between",children:[(0,b.jsx)("div",{className:"h-4 w-1/3 bg-white/10 rounded"}),(0,b.jsx)("div",{className:"h-8 w-1/2 bg-white/10 rounded"}),(0,b.jsx)("div",{className:"h-12 w-full bg-white/5 rounded mt-2"})]});let k=h.chart.result[0],l=k.meta,m=k.indicators.quote[0].close||[],n=k.timestamp||[],o=m.map((a,b)=>({price:a,time:n[b]})).filter(a=>null!==a.price),p=l.regularMarketPrice,q=l.chartPreviousClose,r=p-q,s=r/q*100,t=r>=0,u=o.slice(-7),v={labels:u.map(a=>new Date(1e3*a.time).toLocaleDateString()),datasets:[{data:u.map(a=>a.price),borderColor:t?"#00ff9d":"#ef4444",borderWidth:2,backgroundColor:a=>{let b=a.chart.ctx.createLinearGradient(0,0,0,100);return b.addColorStop(0,t?"rgba(0, 255, 157, 0.2)":"rgba(239, 68, 68, 0.2)"),b.addColorStop(1,"rgba(0, 0, 0, 0)"),b},fill:!0,pointRadius:0,pointHoverRadius:4,tension:.4}]},w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(2, 6, 23, 0.9)",titleColor:"#94a3b8",bodyColor:"#fff",displayColors:!1,callbacks:{label:a=>`$${a.parsed.y.toFixed(2)}`}}},scales:{x:{display:!1},y:{display:!1,min:.99*Math.min(...u.map(a=>a.price))}},interaction:{mode:"index",intersect:!1}};return(0,b.jsxs)("div",{className:"bg-cyber-panel backdrop-blur-md border border-white/10 rounded-2xl p-5 shadow-lg relative overflow-hidden group",children:[(0,b.jsx)("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${t?"from-cyber-green/10":"from-red-500/10"} to-transparent rounded-bl-full -mr-4 -mt-4 transition-opacity group-hover:opacity-100 opacity-50`}),(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-gray-400 text-xs font-bold tracking-wider uppercase",children:[f("symbol"),": ",a]}),(0,b.jsxs)("div",{className:"text-3xl font-mono font-bold text-white mt-1",children:["$",p.toFixed(2)]})]}),(0,b.jsxs)("div",{className:`text-right ${t?"text-cyber-green":"text-red-500"}`,children:[(0,b.jsxs)("div",{className:"text-sm font-bold flex items-center justify-end gap-1",children:[t?"â–²":"â–¼"," ",Math.abs(s).toFixed(2),"%"]}),(0,b.jsxs)("div",{className:"text-xs opacity-70",children:[r>0?"+":"",r.toFixed(2)]})]})]}),(0,b.jsx)("div",{className:"h-16 w-full mt-2 relative z-10 opacity-80 hover:opacity-100 transition-opacity",children:(0,b.jsx)(d.Line,{options:w,data:v})}),(0,b.jsx)("div",{className:"text-[10px] text-gray-600 mt-2 text-right",children:f("delayed")})]})}a.s(["default",()=>h])},43967,a=>{"use strict";var b=a.i(87924),c=a.i(53572),d=a.i(39061);function e(){return(0,c.useTranslations)("common"),(0,b.jsx)(d.default,{className:"bg-gradient-to-br from-cyber-purple/10 to-cyber-green/10 border-cyber-neon/20",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-cyber-neon mb-2",children:"Unlock Premium Features"}),(0,b.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"Get access to advanced analytics, real-time alerts, and exclusive content"}),(0,b.jsx)("button",{className:"px-4 py-2 bg-cyber-neon text-black font-bold rounded hover:bg-cyber-green transition-colors",children:"Upgrade to Premium"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-cyber-neon",children:"24/7"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Real-time Updates"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-cyber-neon",children:"AI"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Powered Insights"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-cyber-neon",children:"ðŸš€"}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Advanced Tools"})]})]})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=components_b70554e0._.js.map