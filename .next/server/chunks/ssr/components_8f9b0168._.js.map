{"version":3,"sources":["../../../../components/LiveGlobalFeed.tsx","../../../../components/LiveDashboardGrid.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport useSWR from 'swr';\nimport { useTranslations } from '@/lib/i18nMock';\nimport GlowCard from './GlowCard';\nimport { supabase } from '@/lib/supabaseClient';\n\nconst fetchRSS = async (rssUrl: string, sourceName: string) => {\n  if (!rssUrl || rssUrl === '#' || !rssUrl.startsWith('http')) return [];\n  \n  const cb = `&_t=${Date.now()}`;\n  const proxies = [\n    `https://api.allorigins.win/raw?url=${encodeURIComponent(rssUrl)}${cb}`,\n    `https://corsproxy.io/?${encodeURIComponent(rssUrl)}`,\n    `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(rssUrl)}`\n  ];\n\n  for (const proxyUrl of proxies) {\n    try {\n      const res = await fetch(proxyUrl);\n      if (!res.ok) continue;\n      const text = await res.text();\n      if (!text.includes('<rss') && !text.includes('<feed') && !text.includes('<item') && !text.includes('<entry')) continue;\n\n      const parser = new DOMParser();\n      const xml = parser.parseFromString(text, 'text/xml');\n      const items = Array.from(xml.querySelectorAll('item, entry')).slice(0, 2);\n\n      if (items.length === 0) continue;\n\n      return items.map((item) => {\n        const title = item.querySelector('title')?.textContent || 'No Title';\n        const linkNode = item.querySelector('link');\n        const url = linkNode?.textContent || linkNode?.getAttribute('href') || '#';\n        \n        // Get raw date string from RSS feed\n        const rawDate = item.querySelector('pubDate, published, updated')?.textContent;\n        \n        // Parse date with fallback for invalid formats\n        const parseRssDate = (dateStr: string | null | undefined) => {\n          if (!dateStr) return new Date();\n          \n          // Try different parsing strategies\n          const date = new Date(dateStr);\n          if (!isNaN(date.getTime())) return date;\n          \n          // Try parsing with different formats\n          const parsed = Date.parse(dateStr);\n          if (!isNaN(parsed)) return new Date(parsed);\n          \n          // Fallback to current date if all parsing fails\n          return new Date();\n        };\n        \n        const date = parseRssDate(rawDate);\n        const isoDate = date.toISOString();\n        \n        return {\n          id: `rss-${sourceName}-${Math.random().toString(36).substr(2, 9)}`,\n          title,\n          url,\n          timestamp: isoDate,\n          summary: (item.querySelector('description, summary, content')?.textContent || '').replace(/<[^>]*>?/gm, '').substring(0, 80) + '...',\n          source: sourceName,\n          type: 'rss'\n        };\n      });\n    } catch { continue; }\n  }\n  return [];\n};\n\nexport default function LiveGlobalFeed() {\n  const t = useTranslations('home.dynamics');\n\n  // Fetch config data from Supabase to get RSS URLs\n  const { data: configRows } = useSWR('global-config', async () => {\n    try {\n      const { data, error } = await supabase.from('config').select('*');\n      if (error) {\n        console.warn('[LiveGlobalFeed] Failed to fetch config:', error);\n        return [];\n      }\n      console.log('[LiveGlobalFeed] Fetched', data?.length, 'config rows');\n      return data;\n    } catch (err) {\n      console.warn('[LiveGlobalFeed] Error fetching config:', err);\n      return [];\n    }\n  }, {\n    refreshInterval: 120000,\n    revalidateOnFocus: true\n  });\n\n  // Fetch global dynamics directly from Supabase\n  const { data: dynamics, isLoading: isDynamicsLoading, mutate: mutateDynamics } = useSWR('global-dynamics', async () => {\n    try {\n      const { data, error } = await supabase\n        .from('dynamics')\n        .select('*')\n        .order('pub_date', { ascending: false })\n        .limit(20);\n\n      if (error) throw error;\n      \n      console.log('[LiveGlobalFeed] Fetched', data?.length, 'items from dynamics table');\n      return data;\n    } catch (err) {\n      console.warn('[LiveGlobalFeed] Failed to fetch dynamics:', err);\n      return [];\n    }\n  }, {\n    refreshInterval: 60000,\n    revalidateOnFocus: true\n  });\n\n  const [items, setItems] = useState<any[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isRssLoading, setIsRssLoading] = useState(false);\n\n  // Fetch and combine all data sources\n  useEffect(() => {\n    const fetchAllData = async () => {\n      setIsLoading(true);\n      setIsRssLoading(true);\n      \n      let allItems: any[] = [];\n      \n      // 1. Add dynamics data\n      if (dynamics) {\n        const mappedDynamics = dynamics.map((item: any) => ({\n          id: item.id,\n          title: item.title,\n          url: item.url || item.link || '#',\n          timestamp: item.pub_date || item.created_at || new Date().toISOString(),\n          summary: item.summary || item.content_snippet || '',\n          source: item.source || 'NexusPulse',\n          type: 'signal', // Use 'signal' style for DB items\n          sentiment: item.sentiment || 'neutral'\n        }));\n        allItems = [...allItems, ...mappedDynamics];\n      }\n      \n      // 2. Fetch RSS data from all config rows\n      if (configRows && configRows.length > 0) {\n        const rssPromises = [];\n        \n        configRows.forEach((config: any) => {\n          // Check various RSS URL fields\n          const rssFields = [\n            config.rss,\n            config.main_rss,\n            config.google_news_rss,\n            config.googlenewsrss,\n            config.mainrss\n          ];\n          \n          rssFields.forEach((rssUrl) => {\n            if (rssUrl) {\n              rssPromises.push(fetchRSS(rssUrl, config.name || 'Unknown'));\n            }\n          });\n        });\n        \n        if (rssPromises.length > 0) {\n          const rssResults = await Promise.all(rssPromises);\n          const rssItems = rssResults.flat();\n          allItems = [...allItems, ...rssItems];\n        }\n      }\n      \n      // 3. Sort all items by date (newest first)\n      allItems.sort((a, b) => {\n        const dateA = new Date(a.timestamp).getTime();\n        const dateB = new Date(b.timestamp).getTime();\n        return dateB - dateA;\n      });\n      \n      // 4. Limit to 20 items\n      allItems = allItems.slice(0, 20);\n      \n      console.log('[LiveGlobalFeed] Combined', allItems.length, 'items from all sources');\n      setItems(allItems);\n      setIsLoading(false);\n      setIsRssLoading(false);\n    };\n    \n    // Call the async function\n    fetchAllData();\n  }, [dynamics, configRows, isDynamicsLoading]);\n\n  // Add mutate functions for manual refresh\n  const { mutate: mutateConfig } = useSWR('global-config');\n  \n  const handleManualRefresh = async () => {\n    console.log('[LiveGlobalFeed] Manual refresh triggered');\n    setIsLoading(true);\n    setIsRssLoading(true);\n    \n    // Refresh both config and dynamics data\n    await Promise.all([\n      mutateConfig(),\n      mutateDynamics()\n    ]);\n    \n    // Wait a bit to ensure data is processed\n    await new Promise(resolve => setTimeout(resolve, 500));\n    \n    setIsLoading(false);\n    setIsRssLoading(false);\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center px-2\">\n        <h2 className=\"text-lg font-bold text-gray-200\">{t('title')}</h2>\n        <div className=\"flex items-center gap-2\">\n          {(isLoading || isDynamicsLoading) && (\n            <span className=\"text-xs text-cyber-neon animate-pulse\">Syncing...</span>\n          )}\n          <button \n            onClick={handleManualRefresh} \n            className=\"text-xs text-cyber-neon hover:underline flex items-center gap-1\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className=\"w-3 h-3\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99\" />\n            </svg>\n            Refresh\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"space-y-4 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar\">\n        {items.length > 0 ? (\n          items.map((item, i) => (\n            <GlowCard key={item.id} className={`!p-4 ${item.type === 'manual' ? 'border-cyber-neon/40 bg-cyber-neon/5' : ''}`} delay={i * 0.05}>\n              <div className=\"flex justify-between items-start mb-2\">\n                <span className=\"text-[10px] text-gray-500 font-mono\">\n                  {new Date(item.timestamp).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                </span>\n                <span className={`text-[10px] px-1.5 py-0.5 rounded border ${item.type === 'manual' ? 'border-cyber-neon text-cyber-neon font-bold shadow-[0_0_5px_rgba(0,243,255,0.3)]' : item.type === 'signal' ? 'border-cyber-green text-cyber-green font-bold' : 'border-cyber-purple/30 text-cyber-purple'}`}>\n                  {item.type === 'manual' ? 'BRIEFING' : item.type === 'signal' ? 'SIGNAL' : item.source}\n                </span>\n              </div>\n              \n              <h4 className=\"text-sm font-bold text-gray-100 mb-1 leading-tight hover:text-cyber-neon cursor-pointer\">\n                {item.url !== '#' ? (\n                  <a href={item.url} target=\"_blank\" rel=\"noreferrer\">{item.title}</a>\n                ) : (\n                  item.title\n                )}\n              </h4>\n              \n              <p className=\"text-xs text-gray-400 line-clamp-3 mb-2 leading-relaxed\">\n                {item.summary}\n              </p>\n              \n              {item.url !== '#' && (\n                <div className=\"flex justify-between items-center text-[10px] text-gray-500\">\n                  <span>Via {item.type === 'signal' ? 'Database' : 'RSS'}</span>\n                  <a href={item.url} target=\"_blank\" rel=\"noreferrer\" className=\"hover:text-cyber-neon\">Read Source ↗</a>\n                </div>\n              )}\n            </GlowCard>\n          ))\n        ) : (\n          !isLoading && (\n            <div className=\"p-4 text-center text-gray-500 text-sm\">\n              Waiting for satellite uplink... <br/>\n              <span className=\"text-xs opacity-50\">(Check Sheet Config)</span>\n            </div>\n          )\n        )}\n      </div>\n    </div>\n  );\n}","'use client';\n\nimport React from 'react';\nimport useSWR from 'swr';\nimport { useTranslations, Link } from '@/lib/i18nMock';\nimport GlowCard from './GlowCard';\nimport { supabase } from '@/lib/supabaseClient';\nimport { ENTITIES } from '@/lib/mockData';\n\nexport default function LiveDashboardGrid() {\n  const t = useTranslations('home');\n  const tEntity = useTranslations('home.stats');\n\n  // Fetch Live Data from Supabase\n  const { data: configData, error, isLoading } = useSWR('dashboard-config', async () => {\n    try {\n      console.log('[LiveDashboardGrid] Fetching dashboard data from Supabase...');\n      \n      // Fetch all config data from Supabase using the centralized client\n      const { data, error: supabaseError } = await supabase.from('config').select('*');\n      \n      if (supabaseError) {\n        console.warn('[LiveDashboardGrid] Supabase error, falling back to mock data:', supabaseError.message);\n        throw supabaseError;\n      }\n      \n      console.log('[LiveDashboardGrid] Data loaded successfully from Supabase:', data?.length, 'entities found');\n      return data;\n    } catch (error) {\n      console.warn('[LiveDashboardGrid] Fetch Error/Fallback:', error);\n      // Fallback to mock data\n      return ENTITIES.map(e => ({\n        id: e.id,\n        slug: e.slug,\n        name: e.name,\n        type: e.type,\n        heatindex: e.heatIndex,\n        trend: e.trend,\n        stocksymbol: e.stockSymbol,\n        tags: e.tags.join(','),\n        summary: ''\n      }));\n    }\n  }, {\n    refreshInterval: 30000, // Refresh every 30s\n    revalidateOnFocus: true,\n    errorRetryCount: 3,\n    errorRetryInterval: 5000,\n    onError: (err, key) => {\n      console.error('[LiveDashboardGrid] SWR Error:', err, { key });\n    }\n  });\n\n  // 添加SWR日志记录\n  console.log('SWR 数据：', configData);  // 成功时打印数组 \n  console.log('SWR 错误：', error);  // 打印错误信息 \n  console.log('加载中：', isLoading);\n\n  // Handle Loading State\n  if (isLoading) {\n    return (\n      <section className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {[1, 2, 3, 4].map(i => (\n          <div key={i} className=\"h-64 rounded-2xl bg-white/5 animate-pulse border border-white/5\" />\n        ))}\n      </section>\n    );\n  }\n\n  // Handle Error State\n  if (error) {\n    return (\n      <section className=\"text-center p-8 bg-red-500/10 border border-red-500/20 rounded-2xl\">\n        <h2 className=\"text-lg font-bold text-red-400 mb-2\">Dashboard Data Error</h2>\n        <p className=\"text-sm text-gray-400\">Failed to load live dashboard data. Please try again later.</p>\n        <p className=\"text-xs text-gray-500 mt-1\">Error: {error instanceof Error ? error.message : 'Unknown error'}</p>\n      </section>\n    );\n  }\n\n  // Prepare Display Entities\n  const displayEntities = configData?.filter((row: any) => row.name && row.slug) || [];\n  \n  // Handle No Data State\n  if (displayEntities.length === 0) {\n    return (\n      <section className=\"text-center p-8 bg-gray-800/50 border border-gray-700/50 rounded-2xl\">\n        <h2 className=\"text-lg font-bold text-gray-400 mb-2\">No Entities Found</h2>\n        <p className=\"text-sm text-gray-500\">No entities configured in Supabase.</p>\n        <p className=\"text-xs text-gray-600 mt-1\">Check the Supabase config table or contact support.</p>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {displayEntities.slice(0, 4).map((entity: any, i: number) => {\n        // Parse numeric values safely\n        const heatIndex = entity.heatindex ? parseInt(entity.heatindex) : 0;\n        const trend = entity.trend ? parseFloat(entity.trend) : 0;\n        const tags = entity.tags ? entity.tags.split(',').map((tag: string) => tag.trim()) : [];\n        const entityType = entity.type || 'person'; // Default to person\n\n        return (\n          <Link \n            key={entity.slug} \n            href={entityType === 'person' ? `/person/${entity.slug}` : `/category/${entity.slug}`}\n            className=\"block h-full\"\n          >\n            <GlowCard delay={i * 0.1} className=\"cursor-pointer h-full group\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <span className={`text-xs px-2 py-1 rounded border ${entityType === 'person' ? 'border-cyber-purple/50 text-cyber-purple' : 'border-cyber-green/50 text-cyber-green'}`}>\n                  {entityType.toUpperCase()}\n                </span>\n                <div className={`flex items-center gap-1 text-sm font-bold ${trend >= 0 ? 'text-cyber-green' : 'text-red-500'}`}>\n                  <span>{trend >= 0 ? '▲' : '▼'}</span>\n                  <span>{Math.abs(trend)}%</span>\n                </div>\n              </div>\n              \n              <h3 className=\"text-2xl font-bold mb-1 group-hover:text-cyber-neon transition-colors\">\n                {entity.name}\n              </h3>\n              \n              <div className=\"flex items-end justify-between mt-4\">\n                <div>\n                  <p className=\"text-xs text-gray-500 uppercase tracking-wider\">{tEntity('heatIndex')}</p>\n                  <div className=\"flex items-baseline gap-1\">\n                     <p className=\"text-3xl font-mono text-cyber-neon drop-shadow-[0_0_8px_rgba(0,243,255,0.5)]\">\n                       {heatIndex}\n                     </p>\n                     <span className=\"w-1.5 h-1.5 rounded-full bg-cyber-green animate-pulse mb-1\" title=\"Live Data\" />\n                  </div>\n                </div>\n                <div className=\"flex gap-1 flex-wrap justify-end max-w-[50%]\">\n                  {tags.slice(0, 2).map((tag: string) => (\n                    <span key={tag} className=\"text-[10px] bg-white/5 px-2 py-0.5 rounded text-gray-400\">\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            </GlowCard>\n          </Link>\n        );\n      })}\n    </section>\n  );\n}"],"names":[],"mappings":"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"}