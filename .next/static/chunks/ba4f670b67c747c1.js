(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77290,e=>{"use strict";var t=e.i(43476),r=e.i(80328),s=e.i(66127),a=e.i(53210);function n({slug:e,initialHeat:n,initialTrend:l}){let i=(0,s.useTranslations)("entity"),{data:o,isLoading:c}=(0,r.default)(["entity-stats",e],async()=>{try{let{data:t,error:r}=await a.supabase.from("config").select("heatindex, trend").eq("slug",e).single();if(r)throw r;return t}catch(e){return console.warn("[LiveEntityStats] Failed to fetch stats, using initial values:",e),null}},{refreshInterval:6e4,revalidateOnFocus:!0}),d=o?.heatindex?parseInt(o.heatindex):n,u=o?.trend?parseFloat(o.trend):l,x=u>=0;return(0,t.jsxs)("div",{className:"flex gap-8 text-right bg-cyber-panel backdrop-blur-md p-6 rounded-2xl border border-white/5 flex-shrink-0 relative overflow-hidden",children:[o&&(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex items-center gap-1",children:[(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-cyber-green opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-cyber-green"})]}),(0,t.jsx)("span",{className:"text-[10px] text-cyber-green font-mono uppercase",children:"Live"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-wider mb-1",children:i("heat")}),(0,t.jsx)("div",{className:"text-5xl font-mono text-cyber-neon drop-shadow-[0_0_15px_rgba(0,243,255,0.6)]",children:d})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-400 uppercase tracking-wider mb-1",children:i("trend")}),(0,t.jsxs)("div",{className:`text-2xl font-bold mt-3 ${x?"text-cyber-green":"text-red-500"}`,children:[x?"â–²":"â–¼"," ",Math.abs(u),"%"]})]})]})}e.s(["default",()=>n])},6110,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(80328),a=e.i(66127),n=e.i(61386),l=e.i(53210),i=e.i(30592);let o=async(e,t)=>{if(!e||"#"===e||!e.startsWith("http"))return[];let r=`&_t=${Date.now()}`;for(let s of[`https://api.allorigins.win/raw?url=${encodeURIComponent(e)}${r}`,`https://corsproxy.io/?${encodeURIComponent(e)}`,`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(e)}`])try{let e=await fetch(s);if(!e.ok)continue;let r=await e.text();if(!r.includes("<rss")&&!r.includes("<feed")&&!r.includes("<item")&&!r.includes("<entry"))continue;let a=new DOMParser().parseFromString(r,"text/xml"),n=Array.from(a.querySelectorAll("item, entry")).slice(0,10);if(0===n.length)continue;return n.map(e=>{let r=e.querySelector("title")?.textContent||"No Title",s=e.querySelector("link"),a=s?.textContent||s?.getAttribute("href")||"#",n=e.querySelector("pubDate, published, updated")?.textContent,l=(e=>{if(!e)return new Date;let t=new Date(e);if(!isNaN(t.getTime()))return t;let r=Date.parse(e);return isNaN(r)?new Date:new Date(r)})(n).toISOString();return{id:`rss-${t}-${Math.random().toString(36).substr(2,9)}`,entityId:"",entity_slug:"",title:r,url:a,timestamp:l,pub_date:l,summary:(e.querySelector("description, summary, content")?.textContent||"").replace(/<[^>]*>?/gm,"").substring(0,120)+"...",source:t,type:"rss",sentiment:"neutral"}})}catch{continue}return[]};function c({slug:e,name:c,initialItems:d=[],showSentiment:u=!1,filterSlug:x}){let m=(0,a.useTranslations)("entity");(0,a.useTranslations)("common");let[p,h]=(0,r.useState)([]),[b,g]=(0,r.useState)("offline"),[f,y]=(0,r.useState)([]),[v,w]=(0,r.useState)(!1),[N,j]=(0,r.useState)(null),{data:S,isLoading:k}=(0,s.default)(["entity-config",e],async()=>{try{let{data:t,error:r}=await l.supabase.from("config").select("*").eq("slug",e).single();if(r)throw r;return console.log("[LiveNewsFeed] Entity config fetched:",t),t}catch(t){return console.warn("[LiveNewsFeed] Supabase config error, falling back to mock data:",t),i.ENTITIES.find(t=>t.slug===e)||null}},{refreshInterval:12e4,revalidateOnFocus:!0}),_=async()=>{if(S){w(!0),j(null);try{console.log(`[LiveNewsFeed] Fetching RSS for ${e}`);let t=[S.rss,S.main_rss,S.google_news_rss,S.googlenewsrss,S.mainrss],r=[];for(let e of t)e&&r.push(o(e,S.name||c));if(r.length>0){let t=(await Promise.all(r)).flat().filter((e,t,r)=>t===r.findIndex(t=>t.url===e.url&&t.title===e.title));console.log(`[LiveNewsFeed] Fetched ${t.length} unique RSS items for ${e}`),y(t),t.length>0&&g("live")}else console.log(`[LiveNewsFeed] No RSS URLs found for ${e}`)}catch(t){console.error(`[LiveNewsFeed] Error fetching RSS for ${e}:`,t),j("Failed to fetch RSS feeds")}finally{w(!1)}}};(0,r.useEffect)(()=>{_();let e=setInterval(()=>{_()},3e5);return()=>clearInterval(e)},[S,e,c]);let{data:C,error:F,isLoading:L,mutate:$}=(0,s.default)(["dynamics",e],async()=>{try{let{data:t,error:r}=await l.supabase.from("dynamics").select("*").eq("entity_slug",e).order("pub_date",{ascending:!1});if(r)throw r;return console.log("[LiveNewsFeed] Dynamics data fetched:",t?.length,"items"),t}catch(r){console.warn("[LiveNewsFeed] Supabase dynamics error, falling back to mock data:",r);let t=i.ENTITIES.find(t=>t.slug===e);if(t)return i.DYNAMICS.filter(e=>e.entityId===t.id).map(t=>({id:t.id,entity_slug:e,title:t.title,summary:t.summary,source:t.source,pub_date:t.timestamp,sentiment:t.sentiment,url:t.url,created_at:t.timestamp}));return[]}},{refreshInterval:6e4,revalidateOnFocus:!0});(0,r.useEffect)(()=>{let e=[...C||[]];f.length>0&&e.push(...f),e.length>0?(h(e.sort((e,t)=>{let r=e.pub_date||e.timestamp||e.created_at||e.pubDate,s=t.pub_date||t.timestamp||t.created_at||t.pubDate,a=r?new Date(r).getTime():0;return(s?new Date(s).getTime():0)-a}).slice(0,20)),g("live")):d.length>0?(h(d),g("static")):(h([]),g("offline"))},[C,f,d]),(0,r.useEffect)(()=>{let t=l.supabase.channel(`dynamics_realtime_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"dynamics",filter:`entity_slug=eq.${e}`},e=>{console.log("[LiveNewsFeed] Realtime update received:",e.new),h(t=>[e.new,...t].slice(0,20))}).subscribe();return()=>{l.supabase.removeChannel(t)}},[e]);let[I,R]=(0,r.useState)(!1),T=async()=>{R(!0),await Promise.all([$(),_()]),R(!1)},D=(e,t)=>{if("manual"===t)return"border-cyber-neon text-cyber-neon bg-cyber-neon/10 shadow-[0_0_8px_rgba(0,243,255,0.3)]";let r=e?.toLowerCase()||"neutral";return r.includes("positive")||r.includes("bull")?"border-cyber-green/50 text-cyber-green":r.includes("negative")||r.includes("bear")?"border-red-500/50 text-red-400":"border-gray-500/30 text-gray-400"};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-200",children:m("news")}),"live"===b&&(0,t.jsxs)("span",{className:"flex items-center gap-1.5 bg-cyber-green/10 px-2 py-0.5 rounded text-[10px] text-cyber-green border border-cyber-green/20",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-cyber-green animate-pulse"}),"LIVE"]})]}),(0,t.jsx)("button",{onClick:T,disabled:L||I,className:"text-gray-400 hover:text-cyber-neon transition-colors p-1 rounded-full hover:bg-white/5 disabled:opacity-50",title:"Refresh Signals",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`w-4 h-4 ${L||I?"animate-spin":""}`,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})]}),L&&!C&&(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-32 rounded-2xl bg-white/5 animate-pulse border border-white/5"},e))}),(0,t.jsx)("div",{className:"space-y-4",children:p.length>0?p.map((e,r)=>{let s="";try{let t=e.pub_date||e.timestamp||e.created_at||e.pubDate;s=t?new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just Now"}catch(e){s="Just Now"}return(0,t.jsxs)(n.default,{className:`!p-4 group ${"manual"===e.type?"border-cyber-neon/30 bg-cyber-neon/5":""}`,delay:.05*r,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:s}),u?(0,t.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded border uppercase font-bold tracking-wider ${D(e.sentiment,e.type)}`,children:e.sentiment||"NEUTRAL"}):(0,t.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded border uppercase font-bold tracking-wider ${D(e.sentiment,e.type)}`,children:"manual"===e.type?"Analyst Brief":"Signal"})]}),(0,t.jsx)("h4",{className:"text-sm font-bold text-white mb-2 leading-snug",children:(0,t.jsx)("a",{href:e.link||e.url||"#",target:"_blank",rel:"noopener noreferrer",className:`transition-colors ${e.link&&"#"!==e.link?"hover:text-cyber-neon":"cursor-default pointer-events-none"}`,children:e.title})}),(0,t.jsx)("p",{className:"text-xs text-gray-400 line-clamp-3 leading-relaxed",children:e.summary||e.contentSnippet}),e.link&&"#"!==e.link&&(0,t.jsxs)("div",{className:"mt-3 flex justify-between items-center text-[10px] text-gray-600 border-t border-white/5 pt-2",children:[(0,t.jsx)("span",{className:"uppercase tracking-wider",children:e.source||"RSS"}),(0,t.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-cyber-neon/70 hover:text-cyber-neon transition-colors",children:["READ FULL ",(0,t.jsx)("span",{className:"text-xs",children:"â†—"})]})]})]},e.id||r)}):!L&&(0,t.jsxs)("div",{className:"p-8 text-center text-gray-500 border border-white/5 rounded-2xl",children:[(0,t.jsxs)("p",{children:["No active signals detected for ",c,"."]}),(0,t.jsx)("p",{className:"text-xs mt-2 opacity-50",children:"System awaiting new data stream."})]})}),F&&(0,t.jsx)("div",{className:"text-xs text-red-400 text-center bg-red-500/10 p-2 rounded border border-red-500/20",children:"Connection Interrupted: Unable to sync with data feeds."})]})}e.s(["default",()=>c])},40751,e=>{"use strict";var t=e.i(43476),r=e.i(80328),s=e.i(81097),a=e.i(66127),n=e.i(29530);n.Chart.register(n.CategoryScale,n.LinearScale,n.PointElement,n.LineElement,n.Tooltip,n.Filler);let l=e=>fetch(e).then(e=>e.json());function i({symbol:e}){let n=(0,a.useTranslations)("stock"),{data:i,error:o,isLoading:c}=(0,r.default)(`/api/stock/${e}`,l,{refreshInterval:6e5,revalidateOnFocus:!1});if(o)return(0,t.jsx)("div",{className:"p-4 rounded-2xl bg-cyber-panel border border-red-500/30 text-red-400 text-xs",children:n("unavailable")});if(c||!i?.chart?.result?.[0])return(0,t.jsxs)("div",{className:"p-6 rounded-2xl bg-cyber-panel border border-white/10 animate-pulse h-40 w-full flex flex-col justify-between",children:[(0,t.jsx)("div",{className:"h-4 w-1/3 bg-white/10 rounded"}),(0,t.jsx)("div",{className:"h-8 w-1/2 bg-white/10 rounded"}),(0,t.jsx)("div",{className:"h-12 w-full bg-white/5 rounded mt-2"})]});let d=i.chart.result[0],u=d.meta,x=d.indicators.quote[0].close||[],m=d.timestamp||[],p=x.map((e,t)=>({price:e,time:m[t]})).filter(e=>null!==e.price),h=u.regularMarketPrice,b=u.chartPreviousClose,g=h-b,f=g/b*100,y=g>=0,v=p.slice(-7),w={labels:v.map(e=>new Date(1e3*e.time).toLocaleDateString()),datasets:[{data:v.map(e=>e.price),borderColor:y?"#00ff9d":"#ef4444",borderWidth:2,backgroundColor:e=>{let t=e.chart.ctx.createLinearGradient(0,0,0,100);return t.addColorStop(0,y?"rgba(0, 255, 157, 0.2)":"rgba(239, 68, 68, 0.2)"),t.addColorStop(1,"rgba(0, 0, 0, 0)"),t},fill:!0,pointRadius:0,pointHoverRadius:4,tension:.4}]},N={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(2, 6, 23, 0.9)",titleColor:"#94a3b8",bodyColor:"#fff",displayColors:!1,callbacks:{label:e=>`$${e.parsed.y.toFixed(2)}`}}},scales:{x:{display:!1},y:{display:!1,min:.99*Math.min(...v.map(e=>e.price))}},interaction:{mode:"index",intersect:!1}};return(0,t.jsxs)("div",{className:"bg-cyber-panel backdrop-blur-md border border-white/10 rounded-2xl p-5 shadow-lg relative overflow-hidden group",children:[(0,t.jsx)("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${y?"from-cyber-green/10":"from-red-500/10"} to-transparent rounded-bl-full -mr-4 -mt-4 transition-opacity group-hover:opacity-100 opacity-50`}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2 relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-gray-400 text-xs font-bold tracking-wider uppercase",children:[n("symbol"),": ",e]}),(0,t.jsxs)("div",{className:"text-3xl font-mono font-bold text-white mt-1",children:["$",h.toFixed(2)]})]}),(0,t.jsxs)("div",{className:`text-right ${y?"text-cyber-green":"text-red-500"}`,children:[(0,t.jsxs)("div",{className:"text-sm font-bold flex items-center justify-end gap-1",children:[y?"â–²":"â–¼"," ",Math.abs(f).toFixed(2),"%"]}),(0,t.jsxs)("div",{className:"text-xs opacity-70",children:[g>0?"+":"",g.toFixed(2)]})]})]}),(0,t.jsx)("div",{className:"h-16 w-full mt-2 relative z-10 opacity-80 hover:opacity-100 transition-opacity",children:(0,t.jsx)(s.Line,{options:N,data:w})}),(0,t.jsx)("div",{className:"text-[10px] text-gray-600 mt-2 text-right",children:n("delayed")})]})}e.s(["default",()=>i])},61680,e=>{"use strict";var t=e.i(43476),r=e.i(66127),s=e.i(61386);function a(){return(0,r.useTranslations)("common"),(0,t.jsx)(s.default,{className:"bg-gradient-to-br from-cyber-purple/10 to-cyber-green/10 border-cyber-neon/20",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-cyber-neon mb-2",children:"Unlock Premium Features"}),(0,t.jsx)("p",{className:"text-gray-300 text-sm mb-4",children:"Get access to advanced analytics, real-time alerts, and exclusive content"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-cyber-neon text-black font-bold rounded hover:bg-cyber-green transition-colors",children:"Upgrade to Premium"})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-cyber-neon",children:"24/7"}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Real-time Updates"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-cyber-neon",children:"AI"}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Powered Insights"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-cyber-neon",children:"ðŸš€"}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Advanced Tools"})]})]})]})})}e.s(["default",()=>a])}]);